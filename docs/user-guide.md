# NetMate 用户使用手册

> NetMate - 你的校园网连接伙伴
>
> 跨平台校园网自动登录工具

---

## 目录

1. [简介](#1-简介)
2. [下载安装](#2-下载安装)
3. [快速入门](#3-快速入门)
4. [功能说明](#4-功能说明)
5. [桌面端特有功能](#5-桌面端特有功能)
6. [移动端特有功能](#6-移动端特有功能)
7. [常见问题](#7-常见问题)
8. [故障排除](#8-故障排除)

---

## 1. 简介

### 1.1 什么是 NetMate？

NetMate 是一款跨平台的校园网自动登录工具，支持 Windows、macOS 和 Android 平台。它可以帮你：

- **自动登录**：连接校园网 WiFi 后自动完成认证
- **掉线重连**：检测到断线后自动重新连接
- **多账户管理**：支持配置多个校园网账号
- **多 WiFi 管理**：为不同 WiFi 配置不同的认证方式

### 1.2 支持的平台

| 平台 | 技术栈 | 状态 |
|------|--------|------|
| Windows | Electron + React | 已完成，待测试 |
| macOS | Electron + React | 已完成，待测试 |
| Android | React Native | 已完成，待测试 |

### 1.3 系统要求

- **Windows**: Windows 10 及以上
- **macOS**: macOS 10.15 及以上
- **Android**: Android 8.0 (API 26) 及以上

---

## 2. 下载安装

### 2.1 获取方式

从 GitHub Releases 页面下载最新版本：

- **Windows**: `NetMate-win-x64.exe` 或 `NetMate-win-x64-setup.exe`
- **macOS**: `NetMate-macos-x64.dmg` 或 `NetMate-macos-arm64.dmg` (Apple Silicon)
- **Android**: `NetMate-android.apk`

### 2.2 安装说明

#### Windows

1. 双击下载的 `.exe` 安装文件
2. 按照安装向导提示操作
3. 安装完成后，NetMate 会自动启动

#### macOS

1. 双击下载的 `.dmg` 文件
2. 将 NetMate 拖动到「应用程序」文件夹
3. 从「应用程序」文件夹启动 NetMate
4. 首次启动时，可能需要在「系统设置」>「隐私与安全性」中允许运行

#### Android

1. 允许安装未知来源应用（首次安装时需要）
2. 点击下载的 `.apk` 文件进行安装
3. 安装完成后，打开应用

---

## 3. 快速入门

### 3.1 首次运行

首次启动 NetMate 时，会看到欢迎界面。如果尚未配置账户，系统会提示你添加账户。

### 3.2 配置账户

1. 点击左侧菜单的「设置」
2. 在「账户管理」区域，点击「添加账户」
3. 填写以下信息：

   | 字段 | 说明 | 示例 |
   |------|------|------|
   | 账户名称 | 用于区分不同账户 | 我的校园网 |
   | 用户名 | 校园网账号 | 2023123456 |
   | 密码 | 校园网密码 | ********* |
   | 服务商 | 选择运营商 | 校园网 |
   | 服务器地址 | 认证服务器地址（通常不需要修改） | http://10.10.102.50:801 |

4. 点击「保存」

### 3.3 配置 WiFi

1. 在「设置」页面，找到「WiFi 配置」区域
2. 点击「添加 WiFi」
3. 填写 WiFi 信息：

   | 字段 | 说明 | 示例 |
   |------|------|------|
   | WiFi 名称 (SSID) | WiFi 网络名称 | TUST-Campus |
   | WiFi 密码 | WiFi 连接密码 | ********* |
   | 需要校园网认证 | 是否需要登录认证 | ☑ 已勾选 |
   | 关联账号 | 选择用于认证的账户 | 我的校园网 |
   | 自动连接 | 是否自动连接此 WiFi | ☑ 已勾选 |
   | 优先级 | 连接优先级（数字越小优先级越高） | 1 |

4. 点击「保存」

### 3.4 测试登录

1. 确保已连接到配置的 WiFi
2. 返回首页
3. 点击「登录」按钮
4. 等待登录结果

---

## 4. 功能说明

### 4.1 账户管理

#### 添加账户

1. 进入「设置」>「账户管理」
2. 点击「添加账户」
3. 填写账户信息
4. 点击「保存」

#### 切换账户

1. 在账户列表中，点击账户右侧的「设为当前」
2. 或在首页左上角快速切换

#### 删除账户

1. 在账户列表中，点击账户右侧的「删除」
2. 确认删除

#### 注意事项

- 删除账户时，关联的 WiFi 配置会自动解除关联
- 无法删除当前正在使用的账户

### 4.2 WiFi 配置

#### WiFi 认证类型

- **需要校园网认证**：连接后需要向认证服务器发送登录请求（如校园网）
- **无需认证**：家庭 WiFi、手机热点等，连接即可使用

#### 关联账号

当 WiFi 需要校园网认证时，必须关联一个已配置的账户。系统会使用该账户的服务器地址和服务商信息进行认证。

#### 优先级

当心跳检测发现断线且重连失败时，系统会按优先级顺序尝试切换到其他 WiFi。数字越小，优先级越高。

### 4.3 手动登录/登出

#### 手动登录

1. 确保已连接到需要认证的 WiFi
2. 在首页点击「登录」按钮
3. 等待登录结果

#### 手动登出

在首页点击「登出」按钮，即可断开当前连接。

### 4.4 心跳检测

心跳检测会定期检查网络连通性，当检测到断线时自动尝试重连。

#### 开启/关闭

1. 进入「设置」>「通用设置」
2. 找到「心跳检测」开关
3. 切换开关状态

#### 配置检测间隔

1. 在「通用设置」中，找到「检测间隔」
2. 输入间隔时间（秒），建议 30 秒

### 4.5 自动重连

当心跳检测发现网络断开时，系统会自动尝试重新登录。

#### 配置重连策略

1. 进入「设置」>「通用设置」
2. 找到「自动重连」开关
3. 设置「最大重试次数」（建议 3 次）

### 4.6 系统通知

NetMate 会在重要事件发生时推送系统通知：

- ✅ 登录成功
- ❌ 登录失败
- ⚠️ 网络断开
- 🔄 自动重连成功

#### 开启/关闭通知

1. 进入「设置」>「通用设置」
2. 找到「显示通知」开关
3. 切换开关状态

### 4.7 开机自启

设置 NetMate 随系统开机自动启动，确保网络始终保持连接。

#### 开启/关闭

1. 进入「设置」>「通用设置」
2. 找到「开机自启」开关
3. 切换开关状态

### 4.8 日志查看

NetMate 会记录所有运行日志，方便排查问题。

#### 查看日志

1. 点击左侧菜单的「日志」
2. 查看日志列表
3. 可以按级别筛选：
   - 全部
   - 信息
   - 成功
   - 警告
   - 错误
   - 调试

#### 清除日志

点击「清除日志」按钮可清空当前日志。

### 4.9 关于与更新

在「关于」页面可以查看：

- 当前版本号
- 检查更新
- 应用信息

#### 检查更新

1. 进入「设置」>「关于」
2. 点击「检查更新」
3. 如果有新版本，按照提示下载安装

---

## 5. 桌面端特有功能

### 5.1 系统托盘

NetMate 最小化后会隐藏到系统托盘，继续在后台运行。

#### 托盘图标状态

| 图标 | 状态 |
|------|------|
| 🟢 绿色 | 已连接 |
| 🔴 红色 | 未连接 |
| 🟡 黄色 | 连接中 |

#### 托盘右键菜单

右键点击托盘图标，可以：

- 「显示窗口」：打开主窗口
- 「登录」：使用当前账户登录
- 「登出」：断开当前连接
- 「退出」：完全退出应用

### 5.2 后台运行

关闭主窗口后，NetMate 会在后台继续运行：

- 继续进行心跳检测
- 自动重连断线的网络
- 推送系统通知

### 5.3 窗口管理

#### 最小化

点击窗口左上角的最小化按钮，窗口会隐藏到托盘而非退出。

#### 关闭

点击窗口右上角的关闭按钮，确认后退出应用。

---

## 6. 移动端特有功能

### 6.1 后台服务

Android 版 NetMate 使用前台服务在后台持续运行，确保网络始终保持监控。

#### 通知栏常驻

运行后台服务时，会在通知栏显示常驻通知，显示当前连接状态。

### 6.2 开机自启

设置 NetMate 随系统开机启动（需要授予权限）。

#### 开启步骤

1. 首次启动时会请求权限
2. 在弹出的权限设置中，允许「自启动」权限
3. 在设置页面开启「开机自启」开关

### 6.3 WiFi 自动连接

配置后，当进入已配置的 WiFi 覆盖范围时，NetMate 会自动连接并认证。

### 6.4 通知管理

Android 版支持更丰富的通知管理：

- 后台运行通知（常驻）
- 状态变化通知（登录成功/失败/断线）
- 更新提示通知

---

## 7. 常见问题

### Q1: 为什么连接 WiFi 后无法自动登录？

可能原因：

1. **未开启自动登录**：检查 WiFi 配置中是否勾选了「需要校园网认证」
2. **未关联账号**：确保 WiFi 已关联正确的账户
3. **账户配置错误**：检查账户的用户名、密码是否正确
4. **服务器地址错误**：确认服务器地址配置正确

### Q2: 心跳检测没有反应？

可能原因：

1. **未开启心跳检测**：在设置中开启「心跳检测」开关
2. **检测间隔过长**：尝试缩短检测间隔（如 30 秒改为 10 秒）
3. **网络问题**：检查网络连接是否正常

### Q3: 收不到系统通知？

#### Windows

1. 检查 Windows 通知设置，确保 NetMate 有通知权限
2. 在 NetMate 设置中开启「显示通知」

#### macOS

1. 检查「系统设置」>「通知」，确保 NetMate 有通知权限
2. 确认应用在「通知」设置中已启用

#### Android

1. 检查应用通知权限是否已授予
2. 检查电池优化设置，将 NetMate 设为「不优化」

### Q4: 开机自启不生效？

#### Windows

1. 确认已在 NetMate 设置中开启「开机自启」
2. 检查系统「任务管理器」>「启动」中是否有 NetMate

#### macOS

1. 确认已在 NetMate 设置中开启「开机自启」
2. 检查「系统设置」>「通用」>「登录项」中是否有 NetMate

#### Android

1. 确认已授予「自启动」权限
2. 检查手机管家/安全软件是否阻止了自启动

### Q5: 如何切换不同的账户？

1. 进入「设置」>「账户管理」
2. 在账户列表中，点击目标账户的「设为当前」
3. 或在首页左上角的下拉菜单中切换

### Q6: WiFi 优先级如何设置？

在 WiFi 配置中，「优先级」数字越小优先级越高。例如：

- 优先级 1：最高优先级
- 优先级 2：次高优先级
- ...

当高优先级 WiFi 不可用时，会自动切换到低优先级 WiFi。

---

## 8. 故障排除

### 8.1 登录失败

#### 检查项

1. **账户信息**：确认用户名、密码正确
2. **WiFi 连接**：确保已连接到校园网 WiFi
3. **服务器地址**：确认服务器地址正确（通常不需要修改）
4. **服务商选择**：确认选择了正确的服务商

#### 查看错误日志

1. 进入「日志」页面
2. 筛选「错误」级别
3. 查看具体错误信息

### 8.2 无法获取 IP 地址

#### Windows

1. 检查网络适配器是否启用
2. 运行 `ipconfig /renew` 刷新 IP

#### macOS

1. 检查网络偏好设置
2. 运行 `sudo dscacheutil -flushcache` 刷新 DNS

#### Android

1. 忘记网络后重新连接
2. 重启 WiFi

### 8.3 托盘图标不显示

#### Windows

1. 检查任务栏设置，确保托盘区域可见
2. 重新启动 NetMate

#### macOS

1. 检查「系统设置」>「桌面与程序坞」
2. 确认菜单栏显示托盘图标

### 8.4 应用崩溃或无响应

#### Windows

1. 在任务管理器中结束 NetMate 进程
2. 重新启动应用

#### macOS

1. 在「强制退出应用程序」中结束 NetMate
2. 重新启动应用

#### Android

1. 在「设置」>「应用」中强制停止 NetMate
2. 重新启动应用

### 8.5 清除所有配置

如果需要重置所有配置：

1. 完全退出 NetMate
2. 删除配置文件：

   | 平台 | 配置路径 |
   |------|----------|
   | Windows | `%APPDATA%\NetMate\config.json` |
   | macOS | `~/Library/Application Support/NetMate/config.json` |
   | Android | `/data/data/com.mobile/shared_prefs/` |

3. 重新启动 NetMate

---

## 附录

### 术语说明

| 术语 | 说明 |
|------|------|
| **ISP** | 网络服务提供商，如校园网、移动、联通、电信 |
| **SSID** | WiFi 网络名称 |
| **心跳检测** | 定期检查网络连通性的机制 |
| **前台服务** | Android 中持续在后台运行的服务 |
| **托盘** | 桌面端任务栏右下角的常驻区域 |

### 服务商前缀说明

登录时，系统会根据选择的运营商自动添加账号前缀：

| 服务商 | 前缀 | 示例 |
|--------|------|------|
| 校园网 | 无 | `2023123456` |
| 中国移动 | `@cmcc` | `2023123456@cmcc` |
| 中国联通 | `@cucc` | `2023123456@cucc` |
| 中国电信 | `@ctcc` | `2023123456@ctcc` |

### 默认服务器地址

```
http://10.10.102.50:801
```

如需修改，请在账户配置中设置自定义地址。

### 技术支持

如遇到问题，请：

1. 查看本手册的[常见问题](#7-常见问题)和[故障排除](#8-故障排除)章节
2. 查看日志页面中的错误信息
3. 在 [GitHub Issues](https://github.com/Twiink/TUST-Campusnet-Login/issues) 反馈问题

---

## 更新日志

详见 [CHANGELOG](./CHANGELOG.md)

---

*最后更新：2026-01-01*
